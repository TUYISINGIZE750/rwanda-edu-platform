#!/bin/bash\n\n# Rwanda Education Platform - Keep-Alive Deployment Script\n# This script can be deployed on any cloud platform to keep your Render server awake\n\necho \"ðŸš€ Deploying Rwanda Education Platform Keep-Alive Service\"\necho \"=================================================\"\n\n# Create requirements.txt for the keep-alive service\ncat > requirements.txt << EOF\nrequests>=2.28.0\naiohttp>=3.8.0\nEOF\n\n# Create Procfile for Heroku deployment\ncat > Procfile << EOF\nworker: python enhanced_keep_alive.py\nEOF\n\n# Create railway.toml for Railway deployment\ncat > railway.toml << EOF\n[build]\nbuilder = \"nixpacks\"\n\n[deploy]\nstartCommand = \"python enhanced_keep_alive.py\"\nEOF\n\n# Create Docker file for containerized deployment\ncat > Dockerfile << EOF\nFROM python:3.9-slim\n\nWORKDIR /app\n\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\nCOPY enhanced_keep_alive.py .\n\nCMD [\"python\", \"enhanced_keep_alive.py\"]\nEOF\n\n# Create docker-compose for local testing\ncat > docker-compose.yml << EOF\nversion: '3.8'\nservices:\n  keep-alive:\n    build: .\n    restart: unless-stopped\n    environment:\n      - PYTHONUNBUFFERED=1\n    volumes:\n      - ./logs:/app/logs\nEOF\n\n# Create systemd service file for VPS deployment\ncat > rwanda-keep-alive.service << EOF\n[Unit]\nDescription=Rwanda Education Platform Keep-Alive Service\nAfter=network.target\n\n[Service]\nType=simple\nUser=ubuntu\nWorkingDirectory=/opt/rwanda-keep-alive\nExecStart=/usr/bin/python3 enhanced_keep_alive.py\nRestart=always\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Create deployment instructions\ncat > DEPLOYMENT_INSTRUCTIONS.md << EOF\n# Rwanda Education Platform - Keep-Alive Service Deployment\n\n## Quick Deploy Options\n\n### 1. Heroku (Free Tier)\n\\`\\`\\`bash\n# Install Heroku CLI, then:\nheroku create rwanda-keep-alive\ngit init\ngit add .\ngit commit -m \"Initial commit\"\ngit push heroku main\n\\`\\`\\`\n\n### 2. Railway\n\\`\\`\\`bash\n# Connect to Railway and deploy\nrailway login\nrailway link\nrailway up\n\\`\\`\\`\n\n### 3. Render (Web Service)\n- Connect your GitHub repo\n- Set build command: \\`pip install -r requirements.txt\\`\n- Set start command: \\`python enhanced_keep_alive.py\\`\n\n### 4. Docker (Any VPS)\n\\`\\`\\`bash\ndocker build -t rwanda-keep-alive .\ndocker run -d --restart unless-stopped rwanda-keep-alive\n\\`\\`\\`\n\n### 5. VPS with systemd\n\\`\\`\\`bash\n# Copy files to /opt/rwanda-keep-alive/\nsudo cp rwanda-keep-alive.service /etc/systemd/system/\nsudo systemctl enable rwanda-keep-alive\nsudo systemctl start rwanda-keep-alive\n\\`\\`\\`\n\n### 6. GitHub Codespaces (Free)\n- Fork this repo\n- Open in Codespaces\n- Run: \\`python enhanced_keep_alive.py\\`\n- Keep the Codespace running\n\n## Environment Variables (Optional)\n- \\`BACKEND_URL\\`: Override default backend URL\n- \\`PING_INTERVAL\\`: Override ping interval (seconds)\n- \\`LOG_LEVEL\\`: Set logging level (INFO, DEBUG, WARNING)\n\nEOF\n\necho \"âœ… Keep-Alive deployment files created!\"\necho \"\"\necho \"ðŸ“ Files created:\"\necho \"  - requirements.txt (Python dependencies)\"\necho \"  - Procfile (Heroku)\"\necho \"  - railway.toml (Railway)\"\necho \"  - Dockerfile (Docker)\"\necho \"  - docker-compose.yml (Local Docker)\"\necho \"  - rwanda-keep-alive.service (systemd)\"\necho \"  - DEPLOYMENT_INSTRUCTIONS.md (Instructions)\"\necho \"\"\necho \"ðŸš€ Choose your deployment platform and follow DEPLOYMENT_INSTRUCTIONS.md\"\necho \"ðŸ’¡ Tip: Deploy on multiple platforms for redundancy!\"\n